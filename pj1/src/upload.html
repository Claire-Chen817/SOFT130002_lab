<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Upload</title>
    <link href="css/reset.css" type="text/css" rel="stylesheet">
    <link href="css/upload.css" type="text/css" rel="stylesheet">
    <link href="../font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>

<header>
    <nav>
        <a href="Home.html" class="logo"><img src="../img/logo-white.svg" alt=""></a>
        <ul class="nav-list">
            <li class="nav-item nav-left"><a href="Home.html" class="nav-link">Home</a></li>
            <li class="nav-item nav-left"><a href="browser.html" class="nav-link">Browser</a></li>
            <li class="nav-item nav-left"><a href="search.html" class="nav-link">Search</a></li>
            <li class="nav-item nav-right has-dropdown is-active">
                <a class="nav-link">My Account</a>
                <div class="nav-dropdown">
                    <ul>
                        <li class="is-active"><a href="upload.html"><i class="fa fa-upload fa-fw" aria-hidden="true"></i>&nbsp;Upload</a></li>
                        <li><a href="myPhoto.html"><i class="fa fa-photo fa-fw" aria-hidden="true"></i>&nbsp;Photos</a></li>
                        <li><a href="favorite.html"><i class="fa fa-star fa-fw" aria-hidden="true"></i>&nbsp;Favorite</a></li>
                        <li><a href="../index.html"><i class="fa fa-sign-in fa-fw" aria-hidden="true"></i>&nbsp;Log In</a></li>
                    </ul>
                </div>
            </li>
        </ul>

        <div class="phone-nav">
            <div class="nav-list menu">
                <a class="nav-link">MENU</a>
                <ul class="phone-dropdown">
                    <li class="nav-item"><a href="Home.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="browser.html" class="nav-link">Browser</a></li>
                    <li class="nav-item"><a href="search.html" class="nav-link">Search</a></li>
                </ul>
            </div>
            <div class="nav-list account">
                <a class="nav-link"><i class="fa fa-paw" aria-hidden="true"></i></a>
                <ul class="phone-dropdown">
                    <li class="nav-item is-active"><a href="upload.html"><i class="fa fa-upload fa-fw" aria-hidden="true"></i></a></li>
                    <li class="nav-item"><a href="myPhoto.html"><i class="fa fa-photo fa-fw" aria-hidden="true"></i></a></li>
                    <li class="nav-item"><a href="favorite.html"><i class="fa fa-star fa-fw" aria-hidden="true"></i></a></li>
                    <li class="nav-item"><a href="../index.html"><i class="fa fa-sign-in fa-fw" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>

    </nav>
</header>
<section>
<div class="main">
    <h1>UPLOAD</h1>
    <div>
        <div>
            <img id="preview" src="../img/white.png">
        </div>
        <form id="form" method="POST" enctype="multipart/form-data"
        action="upload" onsubmit="return check();">
            <input type="file" accept="image/*" name="file" id="file"/>
            <div class="pic-short-inf">
                <div class="inf">
                    <p>TITLE</p>
                    <input type="text" name="pic-title">
                </div>
                <div class="inf">
                    <p>COUNTRY</p>
                    <input type="text" name="pic-country">
                </div>
                <div class="inf">
                    <p>CITY</p>
                    <input type="text" name="pic-city">
                </div>
            </div>
            <div class="pic-description inf">
                <p>DESCRIPTION</p>
                <input type="text" name="pic-description">
            </div>
            <button name="submit" onclick="alert('提交完成')"><a href="myPhoto.html">UPLOAD</a></button>
        </form>
    </div>
    <script>
            var fileDom = document.getElementById("file");
            var previewDom = document.getElementById("preview");
            fileDom.addEventListener("change", e=>{
                var file = fileDom.files[0];
                // check if input contains a valid image file
                if (!file || file.type.indexOf("image/") < 0) {
                    fileDom.value = "";
                    previewDom.src = "";
                    return;
                }

                // use FileReader to load image and show preview of the image
                var fileReader = new FileReader();
                fileReader.onload = e=>{
                    previewDom.src = e.target.result;
                };
                fileReader.readAsDataURL(file);
            });

            var formDom = document.getElementById("form");
            function check() {
                var file = fileDom.files[0];
                // check if input contains a valid image file
                if (!file || file.type.indexOf("image/") < 0) {
                    return false;
                }
                return true;
            }
        </script>
</div>
</section>
<footer>
    <div class="footer-container">
        <div class="footer-social">
            <ul class="footer-social-list">
                <li><a><img src="../img/icon/wechat.svg"></a></li>
                <li><a><img src="../img/icon/tencentqq.svg"></a></li>
                <li><a><img src="../img/icon/email.svg"></a></li>
                <li><a><img src="../img/icon/phone.svg"></a></li>
            </ul>
        </div>
        <div class="footer-sitemap">
            <ul class="footer-sitemap-list">
                <li><a href="Home.html">HOME</a></li>
                <li><a>ABOUT</a></li>
                <li><a>TERMS OF USE</a></li>
            </ul>
        </div>
        <div class="footer-copyright">
            <p>&copy;CLAIRECHEN, 2001-2020. ALL RIGHT RESERVED</p>
        </div>
    </div>
</footer>

</body>
<!--<script>
    function change() {
        var pic = document.getElementById("preview"),
            file = document.getElementById("f");

        var ext=file.value.substring(file.value.lastIndexOf(".")+1).toLowerCase();

        if (ext!='png'&&ext!='jpg'&&ext!='jpeg'){
            alert("ONLY png/jpg/jpeg !");
        }
        html5Reader(file)
    }
    function html5Reader(file) {
        var file = file.file[0];
        var reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = function () {
            var pic = document.getElementById("preview");
            pic.src = this.result;
        }
    }
</script>-->
<!--<script>
    $('#f').on('change',function(){
        var filePath = $(this).val(),         //获取到input的value，里面是文件的路径
            fileFormat = filePath.substring(filePath.lastIndexOf(".")).toLowerCase(),
            src = window.URL.createObjectURL(this.files[0]); //转成可以在本地预览的格式

        // 检查是否是图片
        if( !fileFormat.match(/.png|.jpg|.jpeg/) ) {
            error_prompt_alert('上传错误,文件格式必须为：png/jpg/jpeg');
            return;
        }

        $('#preview').attr('src',src);
    });
</script>-->
</html>